{"ast":null,"code":"var _jsxFileName = \"/home/real/Desktop/PROJECT/Project/FrontEnd/React-InventoryMngnt/src/pages/Employee/Products/ProductCard.js\",\n  _s = $RefreshSig$();\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductCard = ({\n  product\n}) => {\n  _s();\n  //\n  const [imageData, setImageData] = useState(null);\n  const [desc, setDesc] = useState({});\n\n  //\n  const getDesc = productId => {\n    axios.get(\"http://localhost:8080/product/description/\" + productId).then(res => {\n      // debugger\n      setDesc(res.data);\n    });\n  };\n\n  //\n  const addToCart = () => {\n    let cart = {\n      userId: sessionStorage.getItem(\"userId\"),\n      productId: product.id,\n      quantity: 1\n    };\n    console.log(cart);\n    axios.post(\"http://localhost:8080/product/cart\", cart).then(res => {\n      console.log(res.data);\n      toast.success(\"Product added to cart\");\n    });\n  };\n  //\n  const getImage = images => {\n    // console.log(product);\n    // console.log(imageIds)\n    console.log(images);\n    axios.get(\"http://localhost:8080/product/images/\" + images[0], {\n      responseType: 'arraybuffer'\n    }).then(response => {\n      const base64Image = btoa(new Uint8Array(response.data).reduce((data, byte) => data + String.fromCharCode(byte), ''));\n      setImageData(`data: image / jpeg; base64, ${base64Image}`);\n    }).catch(error => {\n      console.error('Error fetching image:', error);\n    });\n  };\n\n  //\n  useEffect(() => {\n    getImage(product.prodImageIds);\n    getDesc(product.id);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: imageData,\n        alt: product.productName,\n        className: \"card-img-top\",\n        style: {\n          maxHeight: \"250px\",\n          width: \"100%\",\n          objectFit: \"contain\",\n          borderRadius: \"10px\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"card-title\",\n          children: product.productName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card-text\",\n          children: desc.desc\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card-price\",\n          children: [\"\\u20B9\", product.price]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: addToCart,\n          children: \"Add to Cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductCard, \"3XYt1BbZXbNkm8J7I9vRNPe2cCY=\");\n_c = ProductCard;\nexport default ProductCard;\nvar _c;\n$RefreshReg$(_c, \"ProductCard\");","map":{"version":3,"names":["axios","React","useEffect","useState","toast","jsxDEV","_jsxDEV","ProductCard","product","_s","imageData","setImageData","desc","setDesc","getDesc","productId","get","then","res","data","addToCart","cart","userId","sessionStorage","getItem","id","quantity","console","log","post","success","getImage","images","responseType","response","base64Image","btoa","Uint8Array","reduce","byte","String","fromCharCode","catch","error","prodImageIds","children","className","src","alt","productName","style","maxHeight","width","objectFit","borderRadius","fileName","_jsxFileName","lineNumber","columnNumber","price","onClick","_c","$RefreshReg$"],"sources":["/home/real/Desktop/PROJECT/Project/FrontEnd/React-InventoryMngnt/src/pages/Employee/Products/ProductCard.js"],"sourcesContent":["import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { toast } from 'react-toastify';\r\nconst ProductCard = ({ product }) => {\r\n\r\n  //\r\n  const [imageData, setImageData] = useState(null);\r\n  const [desc, setDesc] =useState({});\r\n\r\n  //\r\n  const getDesc = (productId)=>{\r\n    axios.get(\"http://localhost:8080/product/description/\"+productId)\r\n    \r\n    .then(res=>{\r\n      // debugger\r\n      setDesc(res.data)\r\n    })\r\n    \r\n  }\r\n\r\n  //\r\n  const addToCart = () => {\r\n    let cart = {userId: sessionStorage.getItem(\"userId\"),\r\n                productId: product.id,\r\n                quantity: 1}\r\n    console.log(cart);\r\n    axios.post(\"http://localhost:8080/product/cart\", cart)\r\n        .then(res => {\r\n            console.log(res.data);\r\n            toast.success(\"Product added to cart\");\r\n        })\r\n}\r\n  //\r\n  const getImage = (images) => {\r\n    // console.log(product);\r\n    // console.log(imageIds)\r\n    console.log(images)\r\n    axios.get(\"http://localhost:8080/product/images/\" + images[0], { responseType: 'arraybuffer' })\r\n      .then(response => {\r\n        const base64Image = btoa(\r\n          new Uint8Array(response.data).reduce((data, byte) => data + String.fromCharCode(byte), '')\r\n        );\r\n        setImageData(`data: image / jpeg; base64, ${ base64Image }`);\r\n  }).catch (error => {\r\n    console.error('Error fetching image:', error);\r\n  });\r\n}\r\n\r\n//\r\nuseEffect(()=>{\r\n  getImage(product.prodImageIds)\r\n  getDesc(product.id)\r\n},[])\r\n\r\n  return (\r\n    <div>\r\n    \r\n    <div className=\"card\">\r\n      <img src={imageData} alt={product.productName} className=\"card-img-top\"\r\n       style={{\r\n        maxHeight: \"250px\",\r\n        width: \"100%\",\r\n        objectFit: \"contain\",\r\n        borderRadius: \"10px\",\r\n      }} />\r\n      <div className=\"card-body\">\r\n        <h5 className=\"card-title\">{product.productName}</h5>\r\n        <p className=\"card-text\">{desc.desc}</p>\r\n        <p className=\"card-price\">â‚¹{product.price}</p>\r\n        <button className=\"btn btn-primary\"onClick={addToCart} >Add to Cart</button>\r\n      </div>\r\n    </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductCard;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}